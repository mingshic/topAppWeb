webpackJsonp([50],{"5vhT":function(t,e){},"9GYu":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});a("YF26");var i=a("eMYz"),n=a("Z1y9"),l={name:"eventEvaluation",components:{headerLast:i.a},data:function(){return{eventEvaluationTit:"服务评价",tableData:[{EVALUATE_ID:"1277962",TYPE_NAME:"客户评价故障处理服务",STATUS_NAME:"已评论",TOTAL_SCORE:"3"}],table_arr:[{prop:"EVALUATE_ID",label:"评价ID",fixed:!0,width:"23%"},{prop:"TYPE_NAME",label:"评价类型",width:"51%"},{prop:"STATUS_NAME",label:"状态",width:"20%"},{prop:"TOTAL_SCORE",label:"分值",width:"16%"}],page:1,pageSize:30,busy:!1,loadall:!1,tableHeight:500,caseid:0}},methods:{getEventList:function(t){var e=this;n.a.get("?action=GetCaseEvaluateList",{CASE_ID:this.caseid,PAGE_NUM:this.page,PAGE_TOTAL:this.pageSize}).then(function(a){e.tableData=t?e.tableData.concat(a.data):a.data,0==a.data.length||a.data.length<e.pageSize?(e.busy=!0,e.loadall=!0):(e.busy=!1,e.page++)})},loadMore:function(){var t=this;this.busy||(this.busy=!0,setTimeout(function(){t.getEventList(t.page>1)},500))},rowjump:function(t){this.$router.push({name:"eventEvaluationShow",query:{evaluateid:t.EVALUATE_ID}})}},created:function(){this.caseid=this.$route.query.caseId},mounted:function(){var t=this;this.$nextTick(function(){var e=t;t.tableHeight=document.documentElement.clientHeight-t.$refs.etable.$el.offsetTop,window.onresize=function(){e.tableHeight=document.documentElement.clientHeight-e.$refs.etable.$el.offsetTop}}),this.getEventList(!1)}},o={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"eventEvaluationView"},[a("header-last",{attrs:{title:t.eventEvaluationTit}}),t._v(" "),a("div",{staticStyle:{height:"0.45rem"}}),t._v(" "),a("div",{staticClass:"content"},[a("el-table",{directives:[{name:"loadmore",rawName:"v-loadmore",value:t.loadMore,expression:"loadMore"}],ref:"etable",staticStyle:{width:"100%"},attrs:{data:t.tableData,height:t.tableHeight,stripe:""},on:{"row-click":t.rowjump}},[t._l(t.table_arr,function(t){return[a("router-link",{key:t.id,attrs:{to:{name:"eventEvaluationShow"}}},[a("el-table-column",{key:t.id,attrs:{fixed:t.fixed,prop:t.prop,label:t.label,"min-width":t.width}})],1)]})],2)],1)],1)},staticRenderFns:[]};var s=a("VU/8")(l,o,!1,function(t){a("5vhT")},"data-v-813c2238",null);e.default=s.exports}});