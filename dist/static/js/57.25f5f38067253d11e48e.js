webpackJsonp([57],{"8+CK":function(t,a,i){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var e=i("eMYz"),c=i("DxVv"),s=i("Z1y9"),l=(i("mtWM"),{components:{HeaderLast:e.a,loadingtmp:c.a},data:function(){return{workBenchApplicationEventTit:"我的单次事件",activeName:"first",status:"",page:1,pageSize:10,busy:!1,loadall:!1,multipleSelection:[],applicationList:{},ApplicationEvent:[{id:1,name:"first",label:"进行中",applicationListArr:[],num:0},{id:2,name:"second",label:"已结束",applicationListArr:[],num:0}],objpages:{first:{page:1,loadall:!1,idx:0},second:{page:1,loadall:!1,idx:1}}}},activated:function(){console.log(this.$route.meta.isUseCache),this.$route.meta.isUseCache||(this.objpages.first.page=1,this.ApplicationEvent[0].applicationListArr=[],this.objpages.first.loadall=!1,this.ApplicationEvent[1].applicationListArr=[],this.objpages.second.loadall=!1,this.busy=!1,this.loadall=!1,this.page=1,this.loadMore()),this.$route.meta.isUseCache=!1},methods:{tabClick:function(t){console.log("tabclick");var a=this.objpages[this.activeName];this.loadall=a.loadall,console.log(a.loadall),1!=a.page||a.loadall||this.loadMore()},returnList:function(t,a,i){return i=t?i.concat(a.data):a.data,0==a.data.length||a.data.length<this.pageSize?(this.busy=!1,this.loadall=!0,this.objpages[this.activeName].loadall=!0):(this.busy=!1,this.objpages[this.activeName].page++),i},getEventList:function(){var t=this,a=this.objpages[this.activeName].page>1,i=this.objpages[this.activeName],e="&STATUS="+i.idx+"&PAGE_NUM="+i.page+"&PAGE_TOTAL="+this.pageSize;console.log(e),s.a.get("?action=/once/queryMyCaseListO2O",e).then(function(e){if(console.log(e),"0"==e.STATUSCODE){var c=t.ApplicationEvent[i.idx].applicationListArr;t.ApplicationEvent[i.idx].applicationListArr=t.returnList(a,e,c),t.total=e.total}}),s.a.get("?action=/once/QueryMyCaseCount").then(function(a){console.log(a),t.ApplicationEvent[0].num=a.continued,t.ApplicationEvent[1].num=a.finished})},loadMore:function(){var t=this;if(this.busy||this.objpages[this.activeName].loadall)return!1;this.busy=!0,console.log("loadMore"),setTimeout(function(){t.getEventList()},500)},getCaseType:function(t){var a="";return[{dictID:"1",dictName:"故障"},{dictID:"2",dictName:"RMA"},{dictID:"3",dictName:"巡检"},{dictID:"4",dictName:"技术咨询"},{dictID:"5",dictName:"非故障技术支持"}].forEach(function(i,e,c){i.dictID==t&&(a=i.dictName)}),a},getCaseStatus:function(t){var a="";return[{dictID:"1",dictName:"待受理"},{dictID:"4",dictName:"在保已确认"},{dictID:"5",dictName:"不在保已确认"},{dictID:"6",dictName:"不在保核对中"},{dictID:"7",dictName:"单次报价中"},{dictID:"8",dictName:"不做单次"},{dictID:"9",dictName:"单次待确认"},{dictID:"11",dictName:"待分配管理责任人"},{dictID:"48",dictName:"待管理责任人承接"},{dictID:"12",dictName:"待管理人处理"},{dictID:"13",dictName:"待二/三线承接"},{dictID:"14",dictName:"待二/三线处理"},{dictID:"2",dictName:"待关闭"},{dictID:"3",dictName:"已关闭"},{dictID:"15",dictName:"进行中"},{dictID:"16",dictName:"待评价"},{dictID:"17",dictName:"已完成"},{dictID:"18",dictName:"待回收"},{dictID:"19",dictName:"待物流取件"},{dictID:"20",dictName:"待分检"},{dictID:"21",dictName:"已分检"},{dictID:"22",dictName:"维修中止"},{dictID:"23",dictName:"待维修"},{dictID:"24",dictName:"维修中"},{dictID:"25",dictName:"返还中"},{dictID:"26",dictName:"待项目经理处理"},{dictID:"27",dictName:"待销售处理"},{dictID:"28",dictName:"待技术责任人处理"},{dictID:"29",dictName:"待客户提供信息"},{dictID:"30",dictName:"待客户确定操作时间"},{dictID:"31",dictName:"待库管专员处理"},{dictID:"32",dictName:"待应急采购专员处理"},{dictID:"33",dictName:"待总控中心总经理处理"},{dictID:"34",dictName:"待客户审核方案"},{dictID:"35",dictName:"待一线处理"},{dictID:"36",dictName:"待人员报价岗处理"},{dictID:"39",dictName:"观察中"},{dictID:"37",dictName:"待分摊确认人处理"},{dictID:"38",dictName:"待备件报价岗处理"},{dictID:"40",dictName:"待提交"},{dictID:"41",dictName:"待报价"},{dictID:"42",dictName:"待销售确认"},{dictID:"43",dictName:"待分摊"},{dictID:"44",dictName:"已拒绝"}].forEach(function(i,e,c){i.dictID==t&&(a=i.dictName)}),a}},created:function(){}}),n={render:function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"workBenchApplicationEvent"},[i("header-last",{attrs:{title:t.workBenchApplicationEventTit}}),t._v(" "),i("div",{staticStyle:{height:"0.45rem"}}),t._v(" "),i("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.loadMore,expression:"loadMore"}],staticClass:"ApplicationEventTabs",attrs:{"infinite-scroll-disabled":"busy","infinite-scroll-distance":"10"}},[i("el-tabs",{on:{"tab-click":t.tabClick},model:{value:t.activeName,callback:function(a){t.activeName=a},expression:"activeName"}},[t._l(t.ApplicationEvent,function(a){return[i("el-tab-pane",{key:a.id,attrs:{label:a.label+"("+a.num+")",name:a.name}},[t._l(a.applicationListArr,function(a){return i("div",{key:a.CASE_ID,staticClass:"eventsContent"},[i("div",{staticClass:"eventsHeader"},[i("el-row",[i("el-col",{attrs:{span:12}},[i("span",{staticClass:"value"},[t._v(t._s(a.CREATED_ON))])]),t._v(" "),i("el-col",{staticStyle:{"text-align":"right"},attrs:{span:12}},[i("span",{staticClass:"value"},[t._v(t._s(a.CASE_CD))])])],1)],1),t._v(" "),i("div",[i("el-row",[i("el-col",{attrs:{span:6}},[i("span",{staticClass:"tit"},[t._v("项目名称")])]),t._v(" "),i("el-col",{attrs:{span:16}},[i("span",{staticClass:"value"},[t._v(t._s(a.PROJECT_NAME))])])],1),t._v(" "),i("el-row",[i("el-col",{attrs:{span:6}},[i("span",{staticClass:"tit"},[t._v("事件类型")])]),t._v(" "),i("el-col",{attrs:{span:16}},[i("span",{staticClass:"value"},[t._v(t._s(t.getCaseType(a.CASE_TYPE)))])])],1),t._v(" "),i("el-row",[i("el-col",{attrs:{span:6}},[i("span",{staticClass:"tit"},[t._v("事件概述")])]),t._v(" "),i("el-col",{attrs:{span:15}},[i("span",{staticClass:"value"},[t._v(t._s(a.REMARK))])])],1),t._v(" "),i("el-row",[i("el-col",{attrs:{span:6}},[i("span",{staticClass:"tit"},[t._v("当前状态")])]),t._v(" "),i("el-col",{attrs:{span:18}},[i("span",{staticClass:"value"},[t._v(t._s(t.getCaseStatus(a.CASE_STEP)))])])],1)],1),t._v(" "),i("div",{staticClass:"buttons"},[i("router-link",{attrs:{to:{name:"caseProgress",query:{CASE_ID:a.CASE_ID}}}},[i("el-button",[t._v("查看进展")])],1),t._v(" "),i("router-link",{attrs:{to:{name:"baseInfomation",query:{CASE_ID:a.CASE_ID}}}},[i("el-button",[t._v("查看详情")])],1)],1)])}),t._v(" "),i("loadingtmp",{attrs:{busy:t.busy,loadall:t.loadall}})],2)]})],2)],1)],1)},staticRenderFns:[]};var d=i("VU/8")(l,n,!1,function(t){i("XbxX")},"data-v-5f1e248a",null);a.default=d.exports},XbxX:function(t,a){}});