webpackJsonp([36],{"3Wux":function(e,s){},Rqxa:function(e,s){},RuyI:function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});t("YF26");var i=t("eMYz"),n=t("Z1y9"),v={name:"eventEvaluationShow",components:{headerLast:i.a},data:function(){return{eventEvaluationTit:"服务评价",signimg:"",engineer:"梁瑛",evaluateval:[],evaluateid:this.$route.query.evaluateid,serviceId:this.$route.query.serviceId,caseId:this.$route.query.caseId,serviceType:this.$route.query.serviceType,onsiteService:null}},mounted:function(){var e=this;console.log(this.serviceType),1==this.serviceType?n.a.get("?action=/work/GetCaseroubleShootingServiceFormInfo&SERVICE_ID="+this.serviceId+"&CASE_ID="+this.caseId).then(function(s){console.log(s),console.log("------"),e.onsiteService=s.DATA[0]}):2==this.serviceType&&n.a.get("?action=/work/GetOnsiteServiceFormInfo&SERVICE_ID="+this.serviceId+"&CASE_ID="+this.caseId).then(function(s){console.log(s),e.onsiteService=s.DATA[0]}),n.a.get("?action=GetCaseEvaluateInfo&EVALUATE_ID="+this.evaluateid).then(function(s){if(console.log(s),"0"==s.STATUSCODE){var t=s;e.signimg=t.imgObject.imgStr,e.engineer=t.imgObject.engineerName;var i=[];t.question.forEach(function(e,s,n){var v={};v.question=e,v.options=t.optionOption.filter(function(s){return e.questionId==s.questionId}),v.chkedopts=v.options.filter(function(e){return e.checkFlg}),v.aroptschked=v.chkedopts.map(function(e,s,t){return e.optionId}),v.scores=t.scoreOption.filter(function(s){return e.questionId==s.questionId}),v.scoreval=v.scores.length?v.scores[0].questionScore:0,i.push(v)}),console.log(i),e.evaluateval=i}})},methods:{getCaseEvaluateInfo:function(){}}},a={render:function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"eventEvaluationEditorView"},[t("header-last",{attrs:{title:e.eventEvaluationTit}}),e._v(" "),t("div",{staticStyle:{height:"0.45rem"}}),e._v(" "),null!=e.onsiteService?t("div",{staticClass:"serviceInfoCell"},[1==e.serviceType?t("div",{staticClass:"serviceInfoTit"},[e._v("故障处理服务单")]):e._e(),e._v(" "),2==e.serviceType?t("div",{staticClass:"serviceInfoTit"},[e._v("现场服务单")]):e._e(),e._v(" "),t("div",{staticClass:"content"},[t("ul",{staticClass:"tableTd"},[t("li",[t("span",[e._v("服务单号:")]),e._v(" "),t("span",[e._v(e._s(e.onsiteService.serviceCd))])]),e._v(" "),t("li",[t("span",[e._v("项目编号：")]),e._v(" "),t("span",[e._v(e._s(e.onsiteService.projectCode))])]),e._v(" "),t("li",[t("span",[e._v("项目名称：")]),e._v(" "),t("span",[e._v(e._s(e.onsiteService.projectName))])]),e._v(" "),t("li",[t("span",[e._v("联系人：")]),e._v(" "),t("span",[e._v(e._s(e.onsiteService.realname))])]),e._v(" "),t("li",[t("span",[e._v("联系电话：")]),e._v(" "),t("span",[e._v(e._s(e.onsiteService.contactMobile))])]),e._v(" "),t("li",[t("span",[e._v("事件编号：")]),e._v(" "),t("span",[e._v(e._s(e.onsiteService.caseCd))])]),e._v(" "),2==e.serviceType?t("li",[t("span",[e._v("工程师名称：")]),e._v(" "),t("span",[e._v(e._s(e.onsiteService.enginnername))])]):e._e(),e._v(" "),e.onsiteService.faultDesc&&2==e.serviceType?t("li",[t("span",[e._v("服务类型：")]),e._v(" "),t("span",[e._v(e._s(e.onsiteService.serviceType))])]):e._e(),e._v(" "),1==e.serviceType?t("li",[t("span",[e._v("故障现象：")]),e._v(" "),t("span",[e._v(e._s(e.onsiteService.faultDesc))])]):e._e(),e._v(" "),1==e.serviceType?t("li",[t("span",[e._v("分析诊断：")]),e._v(" "),t("span",[e._v(e._s(e.onsiteService.analysis))])]):e._e(),e._v(" "),1==e.serviceType?t("li",[t("span",[e._v("实施结果：")]),e._v(" "),t("span",[e._v(e._s(e.onsiteService.implementResult))])]):e._e(),e._v(" "),1==e.serviceType?t("li",[t("span",[e._v("遗留问题及建议：")]),e._v(" "),t("span",[e._v(e._s(e.onsiteService.problemSuggest))])]):e._e(),e._v(" "),e.onsiteService.workContent&&2==e.serviceType?t("li",[t("span",[e._v("工作内容：")]),e._v(" "),t("span",[e._v(e._s(e.onsiteService.workContent))])]):e._e(),e._v(" "),e.onsiteService.workResultContent&&2==e.serviceType?t("li",[t("span",[e._v("工作结果：")]),e._v(" "),t("span",[e._v(e._s(e.onsiteService.workResultContent))])]):e._e()])])]):e._e(),e._v(" "),0!=e.evaluateval.length?t("div",{staticClass:"serviceInfoCell"},[t("div",{staticClass:"serviceInfoTit"},[e._v("客户评价")]),e._v(" "),t("div",{staticClass:"content"},[e._l(e.evaluateval,function(s,i){return t("div",{key:i,staticClass:"editorView"},[t("div",{staticClass:"star"},[t("span",{staticClass:"starTit"},[e._v(e._s(i+1)+"."+e._s(s.question.questionComment))]),e._v(" "),t("el-rate",{attrs:{disabled:"",colors:["#666666","#999999","#FF9900"]},model:{value:s.scoreval,callback:function(t){e.$set(s,"scoreval",t)},expression:"item.scoreval"}})],1),e._v(" "),s.scoreval<4?t("div",{staticClass:"improve"},[t("span",[e._v(e._s(s.question.questionComment2))]),e._v(" "),t("div",{staticClass:"improveCell"},[t("el-checkbox-group",{model:{value:s.aroptschked,callback:function(t){e.$set(s,"aroptschked",t)},expression:"item.aroptschked"}},e._l(s.options,function(s){return t("el-checkbox",{key:s.optionId,attrs:{disabled:"",label:s.optionId}},[e._v(e._s(s.optionComment))])}))],1)]):e._e()])}),e._v(" "),t("ul",{staticClass:"signature"},[t("li",{staticClass:"lisign"},[t("span",[e._v("客户签字")]),e._v(" "),t("div",{staticClass:"sign"},[t("img",{attrs:{src:e.signimg}})])]),e._v(" "),t("li",[t("span",[e._v("工程师")]),e._v(" "),t("div",[e._v(e._s(e.engineer))])])])],2)]):e._e()],1)},staticRenderFns:[]};var o=t("VU/8")(v,a,!1,function(e){t("3Wux"),t("Rqxa")},"data-v-1a35b8fe",null);s.default=o.exports}});