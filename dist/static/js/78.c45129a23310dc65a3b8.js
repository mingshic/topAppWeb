webpackJsonp([78],{a0vk:function(t,a){},olV9:function(t,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0});s("YF26");var e=s("hK4+"),i=s("DxVv"),r=s("Z1y9"),o={name:"programList",components:{headerBaseFive:e.a,loadingtmp:i.a},data:function(){return{programListTit:"需关注项目",programListArr:[],page:1,pageSize:10,busy:!1,loadall:!1,isSearch:!1,searchData:{industry:[]},totalData:0}},activated:function(){console.log(this.$route.meta.scrollTop),this.$route.meta.isUseCache||(this.programListArr=[],this.loadall=!1,this.page=1,this.busy=!1,this.loadMore()),this.$route.meta.isUseCache=!1},methods:{getEventList:function(){var t=this,a=this.page>1,s={PAGE_NUM:this.page,PAGE_TOTAL:this.pageSize};this.isSearch&&(s.BUSINESS_TYPE=this.searchData.business,s.INDUSTRY_NAME=this.searchData.industry.join(","),s.PROJECT_NAME=this.searchData.proName,s.CUST_NAME=this.searchData.customer,s.PM_NAME=this.searchData.PM,s.SALE_NAME=this.searchData.sale),r.a.get("?action=GetFocusProject",s).then(function(s){t.totalData=s.total,t.programListArr=a?t.programListArr.concat(s.data):s.data,0==s.data.length?(t.busy=!0,t.loadall=!0):(t.busy=!1,t.page++)})},loadMore:function(){var t=this;this.busy=!0,setTimeout(function(){t.getEventList()},500)},getSearParams:function(t){var a=this;this.page=1,this.isSearch=!0,this.programListArr=[],this.searchData=t,this.busy=!0,setTimeout(function(){a.getEventList()},500)}},created:function(){},beforeRouteLeave:function(t,a,s){"home"==t.name&&(t.meta.isUseCache=!0),s()}},n={render:function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"programListView"},[s("header-base-five",{attrs:{title:t.programListTit+"("+t.totalData+")",queryData:t.searchData},on:{searchPro:t.getSearParams}}),t._v(" "),s("div",{staticStyle:{height:"0.45rem"}}),t._v(" "),s("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.loadMore,expression:"loadMore"}],staticClass:"content",attrs:{"infinite-scroll-disabled":"busy","infinite-scroll-distance":"10"}},[t._l(t.programListArr,function(a){return s("div",{key:a.id,staticClass:"programCell"},[s("router-link",{attrs:{to:{name:"programShow",query:{projectId:a.PROJECT_ID}}}},[s("div",{staticClass:"cellTop"},[s("el-row",[s("el-col",{attrs:{span:8}},[s("div",{staticClass:"cellTopNum"},[t._v(t._s(a.PROJECT_CODE))])]),t._v(" "),s("el-col",{attrs:{span:9}},[s("div",{staticClass:"cellTopColor"},[0==a.BASE_COLOR?s("span"):t._e(),t._v(" "),1==a.BASE_COLOR?s("span",{staticStyle:{background:"#ff0000"}}):t._e(),t._v(" "),2==a.BASE_COLOR?s("span",{staticStyle:{background:"#ff9900"}}):t._e(),t._v(" "),3==a.BASE_COLOR?s("span",{staticStyle:{background:"#ffff00"}}):t._e(),t._v(" "),4==a.BASE_COLOR?s("span",{staticStyle:{background:"#009900"}}):t._e(),t._v(t._s(a.HEALTH_BASE_VALUE)+"\n                "),0==a.NOW_COLOR?s("span"):t._e(),t._v(" "),1==a.NOW_COLOR?s("span",{staticStyle:{background:"#ff0000"}}):t._e(),t._v(" "),2==a.NOW_COLOR?s("span",{staticStyle:{background:"#ff9900"}}):t._e(),t._v(" "),3==a.NOW_COLOR?s("span",{staticStyle:{background:"#ffff00"}}):t._e(),t._v(" "),4==a.NOW_COLOR?s("span",{attrs:{st4yle:"background: #009900"}}):t._e(),t._v(t._s(a.HEALTH_CURRENT_VALUE)+"\n\n              ")])]),t._v(" "),s("el-col",{attrs:{span:7}},[s("div",{staticClass:"cellTopState"},[t._v("状态："),s("span",[t._v(t._s(a.PROJECT_STATUS))])])])],1)],1),t._v(" "),s("div",{staticClass:"cellContent"},[s("p",[t._v(t._s(a.PROJECT_NAME))]),t._v(" "),s("el-row",[s("el-col",{attrs:{span:12}},[s("span",{staticClass:"tit"},[t._v("销售："+t._s(a.SALESMAN_NAME))])]),t._v(" "),s("el-col",{attrs:{span:12}},[s("span",{staticClass:"tit"},[t._v("项目经理："+t._s(a.PM_NAME))])])],1),t._v(" "),s("el-row",[s("el-col",{attrs:{span:12}},[s("span",{staticClass:"tit"},[t._v("开始时间："+t._s(a.START_DATE))])]),t._v(" "),s("el-col",{attrs:{span:12}},[s("span",{staticClass:"tit"},[t._v("结束时间："+t._s(a.END_DATE))])])],1)],1)])],1)}),t._v(" "),s("loadingtmp",{attrs:{busy:t.busy,loadall:t.loadall}})],2)],1)},staticRenderFns:[]};var l=s("VU/8")(o,n,!1,function(t){s("a0vk")},"data-v-05eafbee",null);a.default=l.exports}});