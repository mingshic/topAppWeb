webpackJsonp([72],{TC16:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("eMYz"),i=a("Z1y9"),n={name:"mineAppFeedBack",components:{headerLast:s.a},data:function(){return{mineAppFeedBackTit:"意见反馈",title:"请留下您对APP的反馈意见",formData:{article:""}}},methods:{check:function(e){return""!=this.formData.article||(this.$message({message:"请输入内容!",type:"warning",center:!0,duration:1e3,customClass:"msgdefine"}),e.close(),!1)},submitForm:function(e){var t=this,a=this.$loading({lock:!0,text:"提交中...",spinner:"el-icon-loading",background:"rgba(255, 255, 255, 0.3)"}),s=this;this.$refs[e].validate(function(e){if(!e)return t.$message({message:"请正确填写",type:"error",center:!0,duration:1e3,customClass:"msgdefine"}),!1;if(s.check(a)){var n="&EMP_NAME="+localStorage.getItem("empId")+"&CONTENT="+window.encodeURI(t.formData.article);i.a.get("?action=/case/insertSuggest"+n,"").then(function(e){console.log("res",e),a.close(),"0"==e.STATUSCODE?(t.$message({message:"提交成功",type:"success",center:!0,duration:1e3,customClass:"msgdefine"}),setTimeout(function(){s.$router.push({name:"mine",query:{}})},1e3)):t.$message({message:e.MESSAGE+"发生错误",type:"error",center:!0,duration:1e3,customClass:"msgdefine"})})}})}}},r={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mineAppFeedBackView"},[a("header-last",{attrs:{title:e.mineAppFeedBackTit}}),e._v(" "),a("div",{staticStyle:{height:"0.45rem"}}),e._v(" "),a("div",{staticClass:"mineAppFeedBackContent"},[a("el-form",{ref:"formData",attrs:{model:e.formData,"label-width":"0.8rem"}},[a("div",{staticClass:"article"},[e._v(e._s(e.title))]),e._v(" "),a("el-form-item",{staticClass:"text"},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入反馈建议内容"},model:{value:e.formData.article,callback:function(t){e.$set(e.formData,"article",t)},expression:"formData.article"}})],1),e._v(" "),a("el-form-item",{staticClass:"submitBtn"},[a("el-button",{on:{click:function(t){e.submitForm("formData")}}},[e._v("提交")])],1)],1)],1)],1)},staticRenderFns:[]};var o=a("VU/8")(n,r,!1,function(e){a("wsIe")},"data-v-18b9bd39",null);t.default=o.exports},wsIe:function(e,t){}});