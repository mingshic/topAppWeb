webpackJsonp([44],{"6h4/":function(e,t){},ZmRf:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r("eMYz"),o=r("Z1y9"),s={name:"declareWorkLoad",components:{headerLast:a.a},data:function(){return{declareTitle:"工作量申报",form:{expectStart:"",expectEnd:"",creatorRolename:"",standardWorkload:"",wayWorkload:""}}},created:function(){this.form.expectStart=this.$route.query.expectStart,this.form.expectEnd=this.$route.query.expectEnd,this.form.creatorRolename=this.$route.query.creatorRolename,this.form.standardWorkload=this.$route.query.standardWorkload,this.form.wayWorkload=this.$route.query.wayWorkload,this.form.caseId=this.$route.query.caseId,this.form.workId=this.$route.query.workId},methods:{onSubmit:function(e){var t=this,r=this.$loading({lock:!0,text:"提交中...",spinner:"el-icon-loading",background:"rgba(255, 255, 255, 0.3)"}),a=this;this.form.expectStart=this.formatTime(this.form.expectStart),this.form.expectEnd=this.formatTime(this.form.expectEnd),this.$refs[e].validate(function(e){if(!e)return t.$message({message:"请正确填写",type:"error",center:!0,customClass:"msgdefine"}),!1;console.log("form",t.form);var s="&START_TIME="+t.form.expectStart+"&END_TIME="+t.form.expectEnd+"&CASE_ID="+t.form.caseId+"&WORK_ID="+t.form.workId+"&NORMAL_WORKLOAD="+t.form.standardWorkload+"&EXTRA_WORKLOAD="+t.form.wayWorkload;o.a.get("?action=/work/DeclareWorkload"+s,"").then(function(e){if(r.close(),"0"==e.STATUSCODE){t.$message({message:"提交成功",type:"success",center:!0,customClass:"msgdefine"});var o=a.form.caseId,s=a.form.workId;setTimeout(function(){a.$router.push({name:"workBenchTaskDetailInfo",query:{caseId:o,workId:s}})},1e3)}else t.$message({message:e.MESSAGE+"发生错误",type:"error",center:!0,customClass:"msgdefine"})})})},formatTime:function(e){var t=new Date(e);return t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()+" "+t.getHours()+":"+t.getMinutes()+":"+t.getSeconds()},noKeyword:function(){document.activeElement.blur()}}},l={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"declareWordLoadView"},[r("header-last",{attrs:{title:e.declareTitle}}),e._v(" "),r("div",{staticStyle:{height:"0.45rem"}}),e._v(" "),r("div",{staticClass:"content"},[r("el-form",{ref:"form",attrs:{model:e.form,"label-width":"0.9rem"}},[r("el-form-item",{attrs:{label:"派工者"}},[r("el-input",{staticClass:"bInput",model:{value:e.form.creatorRolename,callback:function(t){e.$set(e.form,"creatorRolename",t)},expression:"form.creatorRolename"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"开始时间"}},[r("div",{staticClass:"block"},[r("span",{staticClass:"demonstration"}),e._v(" "),r("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间","default-time":"12:00:00"},model:{value:e.form.expectStart,callback:function(t){e.$set(e.form,"expectStart",t)},expression:"form.expectStart"}})],1)]),e._v(" "),r("el-form-item",{attrs:{label:"结束时间"}},[r("div",{staticClass:"block"},[r("span",{staticClass:"demonstration"}),e._v(" "),r("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间","default-time":"12:00:00"},model:{value:e.form.expectEnd,callback:function(t){e.$set(e.form,"expectEnd",t)},expression:"form.expectEnd"}})],1)]),e._v(" "),r("el-form-item",{attrs:{label:"实施工作量"}},[r("el-tooltip",{staticClass:"item",attrs:{effect:"light",content:"已确认实施工作量 (单位小时，如：1.5)",placement:"right"}},[r("el-input",{staticClass:"bInput",model:{value:e.form.standardWorkload,callback:function(t){e.$set(e.form,"standardWorkload",t)},expression:"form.standardWorkload"}}),e._v(" "),r("el-button")],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"路途工作量"}},[r("el-input",{staticClass:"bInput",attrs:{placeholder:"请输入路途工作量 (单位小时，如：1.5)"},model:{value:e.form.wayWorkload,callback:function(t){e.$set(e.form,"wayWorkload",t)},expression:"form.wayWorkload"}})],1),e._v(" "),r("el-form-item",{staticClass:"submitBtn"},[r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.onSubmit("form")}}},[e._v("提交")])],1)],1)],1)],1)},staticRenderFns:[]};var n=r("VU/8")(s,l,!1,function(e){r("6h4/")},"data-v-d2fca85e",null);t.default=n.exports}});